{"active":false,"connections":{"When clicking ‘Execute workflow’":{"main":[[{"node":"Jira Software","type":"main","index":0}]]},"Jira Software":{"main":[[{"node":"Revisão de Campos - Descrição","type":"main","index":0},{"node":"Revisão de Campos - QA","type":"main","index":0}]]},"Transforma em lista":{"main":[[{"node":"Criar lista campos QA","type":"main","index":0}]]},"Criar lista campos QA":{"main":[[{"node":"Revisao QA preenchida","type":"main","index":0}]]},"If":{"main":[[{"node":"Revisao QA nao preenchida","type":"main","index":0}],[{"node":"Transforma em lista","type":"main","index":0}]]},"Revisao QA nao preenchida":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Revisao QA preenchida":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Revisão de Campos - QA":{"main":[[{"node":"If","type":"main","index":0}]]},"Revisão de Campos - Descrição":{"main":[[{"node":"Code in JavaScript","type":"main","index":0}]]},"Descrição":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Code in JavaScript":{"main":[[{"node":"Descrição","type":"main","index":0},{"node":"Descrição1","type":"main","index":0}]]}},"createdAt":"2025-10-16T11:23:12.376Z","id":"LIF68f5zrzodK3CR","isArchived":false,"meta":{"***REMOVIDO***":true},"name":"My workflow 11","nodes":[{"parameters":{"jiraVersion":"serverPat","operation":"get","issueKey":"AUTO-81557","additionalFields":{}},"type":"n8n-nodes-base.jira","typeVersion":1,"position":[-688,-48],"id":"d27d892c-612a-4cb1-813d-5aa3b7ec4421","name":"Jira Software","credentials":{"***REMOVIDO***":{"id":"50JMqyQ8qMp9dkz7","name":"Jira SW Cloud account 2"}}},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-896,-48],"id":"d5226a87-3cd4-4f79-b2fd-af05ec95d7da","name":"When clicking ‘Execute workflow’"},{"parameters":{"jsCode":"for (const item of $input.all()) {\n  item.json.revisao = JSON.parse(item.json.revisao);\n}\n\nreturn $input.all();"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-32,224],"id":"6e49b5c9-c067-4844-a6a8-eef5b8ee0fd2","name":"Transforma em lista"},{"parameters":{"fieldToSplitOut":"revisao","options":{}},"type":"n8n-nodes-base.splitOut","typeVersion":1,"position":[192,224],"id":"65c0638b-780f-49dd-b2cd-2a5a041cc64e","name":"Criar lista campos QA"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[736,32],"id":"3f1f2905-03ba-4338-9bc5-82f0fa6d389e","name":"Merge"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"d5532ffe-aefe-4526-98d0-e38132ade378","leftValue":"={{ $json.revisao }}","rightValue":"[]","operator":{"type":"string","operation":"equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[-256,64],"id":"81e3351d-ae97-4a49-9b04-397324747da3","name":"If"},{"parameters":{"jsCode":"return [\n  {\n    json: {\n      revisao_campos_QA: 'Revisão QA não preenchida'\n    }\n  }\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[416,48],"id":"3ea290a8-fffd-4b67-ad3b-7b6476d61c76","name":"Revisao QA nao preenchida"},{"parameters":{"jsCode":"\nlet lista = $input.all();\nlet revisao;\n\n// Remove o primeiro elemento\nlista.shift();\n\n// Itera sobre os restantes\nfor (const item of lista) {\n  if(item.json.checked){\n    revisao = 'Revisão QA completa';\n  }else{\n    revisao = 'Revisão QA incompleta';\n  }\n}\n\nreturn [\n  {\n    json: {\n      revisao_campos_QA: revisao\n    }\n  }\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[416,224],"id":"ee138cb1-25ed-40ab-8f2d-85532e502dd5","name":"Revisao QA preenchida"},{"parameters":{"assignments":{"assignments":[{"id":"66aefc3b-adff-4f8b-b37e-3ae924cd1ce4","name":"revisao","value":"={{ $json.fields.customfield_18500 }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-480,64],"id":"438a4ee7-164b-47d1-a9a4-f031aca435af","name":"Revisão de Campos - QA"},{"parameters":{"assignments":{"assignments":[{"id":"191264c2-0b22-4cca-b0fe-b6c4758f2abb","name":"responsavel","value":"=[~{{ $json.fields.assignee.key }}]","type":"string"},{"id":"e2d6006f-6bbc-4e91-a47b-342fffe07c06","name":"descricao","value":"={{ $json.fields.description }}","type":"string"},{"id":"af3b4553-fc49-4978-950f-a3faca5a6f21","name":"issue","value":"={{ $json.key }}","type":"string"},{"id":"fe2ed187-307e-4ce7-b40a-a7eba07f15da","name":"tipo","value":"={{ $json.fields.issuelinks[0].outwardIssue.fields.issuetype.name }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-480,-160],"id":"b402f85e-6760-4ff5-b560-40bb15e76d94","name":"Revisão de Campos - Descrição"},{"parameters":{"jsCode":"\nlet texto = $input.all().map(item => item.json?.descricao || \"\").join(\",\").trim();\n\nconst regex = /\\*\\(\\+\\)(.*?)\\*/g;\n\nconst resultados = [];\nlet match;\n\nwhile ((match = regex.exec(texto)) !== null) {\n  resultados.push(match[1].trim());\n}\n\nreturn [\n  {\n    json: {\n      titulos: resultados\n    }\n  }\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[416,-256],"id":"a576e2a6-790a-4b42-b985-4b7ecdfce1c3","name":"Descrição"},{"parameters":{"jsCode":"\nlet texto = $input.all().map(item => item.json?.descricao || \"\").join(\",\").trim();\n\nreturn [\n  {\n    json: {\n      responsavel: $input.first().json.responsavel,\n      issue: $input.first().json.issue,\n      tipo: $input.first().json.tipo,\n      descricao: texto.replace('*(i) [como preencher?|https://distribuicao.blob.core.windows.net/dms/QS/template/como_preencher_campo_enviar_para_validacao_no_cliente.txt]*','')\n        .replace('*(i) [como preencher?|https://distribuicao.blob.core.windows.net/dms/QS/template/como_preencher_campo_documentacao.txt]*','')\n      .replace('(!) {color:#de350b}*SIGA O NOVO FLUXO POR SUB-TAREFA ->* {color} *(i) [como preencher?|https://distribuicao.blob.core.windows.net/dms/QS/template/como_preencher_script.txt]*','')\n      .replace('(flag) Regressão   (flag) Comunicado   (i) [como preencher?|https://distribuicao.blob.core.windows.net/dms/QS/template/como_preencher_campo_instrucao_adicional.txt]*','')\n      .replace('*(i) [como preencher?|https://distribuicao.blob.core.windows.net/dms/QS/template/como_preencher_produto.txt]*','')\n      .replace('({*}{*}Delphi{*}{*}) ou (LinxDMS):{*}   *(i) [como preencher?|https://distribuicao.blob.core.windows.net/dms/QS/template/como_preencher_projetos.txt]*','')\n    }\n  }\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-96,-176],"id":"615d6fba-f0eb-4493-87b0-45d9206f368c","name":"Code in JavaScript"},{"parameters":{"jsCode":"\nlet texto = $input.all().map(item => item.json?.descricao || \"\").join(\",\").trim();\n\n\nconst regex = /\\{panel:bgColor=#f5f6f9\\}([\\s\\S]*?)\\{panel\\}/g;\n\nconst resultados = [];\nlet match;\nwhile ((match = regex.exec(texto)) !== null) {\n  resultados.push(match[1].trim());\n}\n\nreturn [\n  {\n    json: {\n      titulos: resultados\n    }\n  }\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[416,-96],"id":"d5903905-3180-4420-ac91-9251658aeb83","name":"Descrição1"}],"origin":"n8n","pinData":{},"repo":{"owner":"n8nlinx","name":"BACKUP-N8N-LINX"},"settings":{"executionOrder":"v1"},"shared":[{"createdAt":"2025-10-16T11:23:12.376Z","updatedAt":"2025-10-16T11:23:12.376Z","role":"workflow:owner","workflowId":"LIF68f5zrzodK3CR","projectId":"l6KXFsOg8uXBDdl3"}],"staticData":null,"tags":[],"triggerCount":0,"updatedAt":"2025-10-16T23:10:44.820Z","versionId":"25dfda9e-0462-48b3-b549-4fedea1b04e9"}